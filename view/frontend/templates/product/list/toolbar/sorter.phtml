<?php
/**
 * Product list toolbar
 *
 * @var $block \Magento\Catalog\Block\Product\ProductList\Toolbar
 * @var $escaper \Magento\Framework\Escaper
 */
?>
<div class="toolbar-sorter sorter">
    <label class="sorter-label" for="sorter"><?= $escaper->escapeHtml((__('Sort By'))) ?></label>
    <select id="sorter" data-role="sorter" class="sorter-options">
        <?php foreach ($block->getAvailableOrders() as $_key => $_order): ?>
            <option value="<?= $escaper->escapeHtmlAttr($_key) ?>"
                <?php if ($block->isOrderCurrent($_key)): ?>
                    selected="selected"
                <?php endif; ?>
            >
                <?= $escaper->escapeHtml(__($_order)) ?>
            </option>
        <?php endforeach; ?>
    </select>
    <?php if (!$block->isOrderCurrent('newest_product') && !$block->isOrderCurrent('price_low_to_high')
    && !$block->isOrderCurrent('price_high_to_low') && !$block->isOrderCurrent('bestsellers')): ?>
        <?php if ($block->getCurrentDirection() == 'desc'): ?>
            <a title="<?= $escaper->escapeHtmlAttr(__('Set Ascending Direction')) ?>"
               href="#"
               class="action sorter-action sort-desc"
               data-role="direction-switcher"
               data-value="asc">
                <span><?= $escaper->escapeHtml(__('Set Ascending Direction')) ?></span>
            </a>
        <?php else: ?>
            <a title="<?= $escaper->escapeHtmlAttr(__('Set Descending Direction')) ?>"
               href="#"
               class="action sorter-action sort-asc"
               data-role="direction-switcher"
               data-value="desc">
                <span><?= $escaper->escapeHtml(__('Set Descending Direction')) ?></span>
            </a>
        <?php endif; ?>
    <?php endif; ?>
</div>
